diff -Nurad sqlite-2.8.17~/src/encode.c sqlite-2.8.17/src/encode.c
--- sqlite-2.8.17~/src/encode.c	2007-09-07 17:45:19.000000000 +0200
+++ sqlite-2.8.17/src/encode.c	2007-09-07 17:45:50.000000000 +0200
@@ -176,6 +176,10 @@
   int i, e;
   unsigned char c;
   e = *(in++);
+  if(e == 0){
+    return 0;
+  }
+
   i = 0;
   while( (c = *(in++))!=0 ){
     if( c==1 ){
